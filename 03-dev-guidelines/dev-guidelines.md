# 🛠️ 개발 가이드라인: 일관성과 품질을 위한 약속

**목표:** 프로젝트 코드의 일관성을 지키고, 생산성과 품질을 높이기 위한 규칙입니다. 개발자와 AI 모두 이 가이드라인을 숙지해 주세요.

---

## 1. 코드 스타일 🎨

일관된 스타일이 협업과 유지보수를 편하게 합니다.

| 항목                   | 도구                      | 설정 및 비고                                                 |
| -------------------- | ----------------------- | ------------------------------------------------------- |
| **JS/TS (Node/Bun)** | **Biome** (추천)          | 루트의 `biome.json` 설정 따름                                  |
| **JS/TS (Deno)**     | `deno fmt`, `deno lint` | 필요 시 Biome 사용 가능 (`biome.json` 추가)                      |
| **Python**           | **Ruff** (추천)           | `ruff format` & `ruff check` 사용, `pyproject.toml` 설정 따름 |

**공통 규칙**

* **들여쓰기:**

  * Python: 공백 4칸
  * 그 외: 공백 2칸
* **네이밍:**

  * 변수·함수·파라미터: `camelCase` (JS/TS), `snake_case` (Python)
  * 클래스·타입·Enum: `PascalCase`
  * 상수: `UPPER_SNAKE_CASE`
  * 파일: `kebab-case.ts`, `snake_case.py`, React 컴포넌트는 `PascalCase.tsx`
* **라인 길이:** 88자 제한
* **함수 길이:** 최대 25줄 권장
* **주석:** 중요한 이유(why)만 간결하게

---

## 2. Git 워크플로 🌿

협업 효율과 안정성을 위해 다음을 따릅니다.

### 2.1 브랜치 전략: GitHub Flow

* `main`: 배포 가능 상태 유지, PR로만 병합
* `feat/<번호>-설명`, `fix/<번호>-설명`, `refactor/<설명>`, `docs/<설명>`, `chore/<설명>` 등

### 2.2 커밋 메시지: Gitmoji

```
✨ feat: JWT 리프레시 토큰 추가
🐛 fix: 로그인 500 에러 수정 (Closes #123)
```

* 주요 이모지: `✨ feat`, `🐛 fix`, `📝 docs`, `♻️ refactor`, `✅ test`, `🚀 chore`, `⚡️ perf`, `🔒 security`

### 2.3 PR 규칙

* PR 템플릿 활용: 변경 내용·테스트·이슈 링크 명시
* 최소 1명 리뷰, CI 통과 필수
* 작고 집중된 PR 생성

---

## 3. 테스트 🧪

안정적인 코드 보장을 위해.

* **위치:** 소스 파일과 동일 디렉터리 또는 `tests/` 아래
* **프레임워크:**

  * JS/TS: Vitest, Bun Test
  * Deno: `deno test`
  * Python: pytest
* **커버리지:** 목표 80% 이상
* **유형:** 단위, 통합, E2E 균형 있게 작성

---

## 4. 문서화 📖

명확한 문서는 협업의 핵심입니다.

* **README.md:** 개요·설치·실행·기여 방법
* **단계별 문서:** 각 폴더 `finalized.md` 참고
* **추가 문서:** `docs/`에 ADR, 다이어그램, QA 계획 등 저장
* **API 명세:**

  * REST: OpenAPI v3 (`api-contract.yaml`)
  * GraphQL: SDL 및 도구 활용
* **코드 주석:** 복잡한 로직에만 짧게 설명

---

## 5. 기타 규칙 💡

### 5.1 의존성

* 새 패키지 추가 전 팀 논의 및 취약점 검사
* Lock 파일 (`pnpm-lock.yaml`, `bun.lockb`, `uv.lock` 등) 반드시 커밋

### 5.2 보안

* 비밀키 절대 하드코딩 금지
* 환경 변수 또는 시크릿 매니저 사용
* 입력 검증으로 XSS/SQL Injection 방지

### 5.3 에러 처리 & 로깅

* 모든 오류 명시적 처리 (try/catch, .catch)
* 사용자에겐 친절한 메시지(UX 고려), 로그엔 충분한 디버깅 정보
* 민감 정보 로그 금지
* JSON 등 구조화된 로깅 사용

### 5.4 비동기 처리

* I/O 작업은 async/await 등 비동기로
* 과도한 비동기는 피하고, 필요성 검토 후 사용

### 5.5 멀티스레드/프로세스

* CPU 작업은 워커로 분리
* 동시성 자료구조 및 동기화 메커니즘 적절히 사용

### 5.6 함수 설계

* 단일 책임 원칙(SRP)
* 매개변수 4개 이하 권장(초과 시 객체로 묶기)
* 부수 효과 최소화, 문서화

---

## 6. 자료형 & 처리 전략 🧠

* **읽기 중심:** 배열·튜플 등 연속 메모리 구조
* **쓰기 중심:** 해시맵·링 버퍼 등 쓰기 효율 구조
* **혼합 작업:** Copy-on-Write, CQRS 패턴 고려
* **싱글 스레드:** 단순 구조 우선
* **멀티 스레드:** Concurrent 자료구조, 메시지 패싱
* 벤치마크로 성능 검증

---

## 7. AI 협업 🤖

1. **문서 확인:** 질문 전 관련 문서 검색
2. **구체적 질문:** 명확한 맥락과 목표 제시
3. **출력 형식 지시:** "코드 우선, 설명 3줄 이내" 등 지정
4. **금지:** `any` 남발, 불필요 console.log, 무단 라이브러리 추가
5. **검토 책임:** 최종 코드 검토 및 테스트는 개발자 몫
6. **보안 주의:** 민감 정보 노출 금지

---

*이 가이드라인은 프로젝트 진행에 맞춰 지속 업데이트됩니다.*
