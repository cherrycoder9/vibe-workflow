`<svelte:body>`

`<svelte:body onevent={handler} />`
`<svelte:window>`랑 비슷하게, 이 엘리먼트는 `document.body`에서 발생하는 이벤트를 듣거나 액션을 적용할 수 있게 해줍니다. 예를 들어 `mouseenter`나 `mouseleave` 같이 `window`에서는 안 터지는 이벤트들 말이죠. `<body>` 엘리먼트에 액션을 먹일 때도 씁니다.

`<svelte:window>`나 `<svelte:document>`처럼, 이 엘리먼트는 컴포넌트 최상단에만 놔야 하고, 절대 블록이나 다른 엘리먼트 안에 쑤셔 넣으면 안 됩니다.

```svelte
<svelte:body
  onmouseenter={handleMouseenter}
  onmouseleave={handleMouseleave}
  use:someAction
/>
```

---

**얘 뭐 하는 애냐?**

`<svelte:body>`는 Svelte 컴포넌트 안에서 웹페이지의 `<body>` 태그에 직접 이벤트 리스너를 달거나 Svelte 액션(`use:action`)을 적용할 수 있게 해주는 특수 태그입니다. 웹페이지의 '몸통' 부분에서 일어나는 일들을 Svelte 방식으로 다루고 싶을 때 쓰는 녀석이죠. "페이지 몸뚱아리 전체를 관장하는 매니저" 정도로 생각하면 됩니다.

**왜 쓰는데?**

1.  **`<body>` 고유 이벤트 처리:** `window`나 `document` 레벨이 아닌, 정확히 `<body>` 영역에서 발생하는 마우스 이벤트(`mouseenter`, `mouseleave` 등)나 기타 이벤트를 잡고 싶을 때 씁니다. "창문이나 문서 전체 말고, 딱 몸통 부분만 감시하고 싶다고!"
2.  **`<body>`에 액션 적용:** Svelte의 `use:action` 기능을 `<body>` 태그 전체에 적용하고 싶을 때 유용합니다. 예를 들어, 페이지 본문 전체에 특정 UI 인터랙션(커스텀 스크롤바, 드래그 동작 등)을 추가할 때 쓸 수 있습니다.
3.  **전역 모달, 툴팁 등의 기반 작업:** 페이지 전체를 덮는 모달 창의 배경 클릭을 감지하거나, 마우스 위치에 따라 동적으로 변하는 툴팁 같은 걸 만들 때 `<body>` 레벨의 이벤트 처리가 필요할 수 있습니다.

**언제 불려 나오냐?**

*   Svelte 컴포넌트가 화면에 그려질 때(`mount`될 때), `<svelte:body>`에 설정한 이벤트 리스너나 액션이 실제 `document.body` 엘리먼트에 적용됩니다.
*   `document.body`에서 해당 이벤트(예: `mouseenter`)가 발생하면, 지정된 핸들러 함수가 "출동!" 하면서 실행됩니다.

**쓸 때 꿀팁 및 주의사항:**

*   **위치 고정! 절대 사수!:** 이놈도 `<svelte:window>`나 `<svelte:document>`처럼 컴포넌트 코드의 맨 바깥, 최상단에만 있어야 합니다. 다른 태그나 `{#if}` 블록 안에 넣으면 Svelte 컴파일러가 "너 지금 뭐 하냐?" 하고 바로 에러 뿜습니다.
*   **`window`, `document`와 구분해서 쓰자:** 이벤트가 발생하는 정확한 대상을 파악하고 그에 맞는 특수 태그를 써야 합니다. `window` 전역 이벤트는 `<svelte:window>`, `document` 전체 이벤트는 `<svelte:document>`, `<body>` 한정 이벤트는 `<svelte:body>`! "범위 설정 잘못하면 삽질 예약이다."
*   **서버 사이드 렌더링(SSR) 시 주의:** `document.body` 역시 브라우저 환경에만 존재합니다. 서버에서 렌더링할 때는 이 태그가 문제를 일으킬 수 있으니, `onMount`를 사용하거나 `if (browser)` 조건문으로 감싸서 브라우저에서만 코드가 실행되도록 처리해야 합니다. "서버에는 '몸통'도 없다고!"
*   **이벤트 버블링/캡처링 이해는 기본:** `<body>`에서 이벤트를 처리한다는 건, 그 안의 자식 요소들에서 발생한 이벤트가 버블링되어 올라오는 것을 잡을 수도 있다는 뜻입니다. 이벤트 전파 방식을 잘 이해하고 써야 의도치 않은 동작을 막을 수 있습니다. "이벤트 흐름 모르면 뒷목 잡는 수가 있다."
*   **꼭 필요한가 다시 생각:** 정말 `<body>` 레벨에서 이벤트를 처리해야 하는지, 아니면 더 구체적인 하위 컴포넌트에서 처리하는 게 맞는지 고민해봐야 합니다. 무분별한 전역 이벤트 리스너는 관리가 어렵고 성능에도 좋을 게 없습니다. "최대한 좁은 범위에서 처리하는 게 국룰이다."