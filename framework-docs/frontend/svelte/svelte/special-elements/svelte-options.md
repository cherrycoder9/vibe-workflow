`<svelte:options>`

`<svelte:options>` 엘리먼트는 컴포넌트별 컴파일러 옵션을 지정하는 공간입니다. 컴파일러 섹션에 자세한 내용이 나와 있고요. 가능한 옵션들은 다음과 같습니다:

*   `runes={true}`: 컴포넌트를 강제로 룬 모드로 전환합니다 (레거시 API 섹션 참조).
*   `runes={false}`: 컴포넌트를 강제로 레거시 모드로 전환합니다.
*   `namespace="..."`: 이 컴포넌트가 사용될 네임스페이스를 지정합니다. "html"(기본값), "svg", "mathml" 중 하나를 쓸 수 있습니다.
*   `customElement={...}`: 이 컴포넌트를 커스텀 엘리먼트로 컴파일할 때 사용할 옵션입니다. 문자열을 전달하면 태그 옵션으로 사용됩니다.
*   `css="injected"`: 컴포넌트가 스타일을 인라인으로 주입합니다. 서버 사이드 렌더링 중에는 `<head>` 안에 `<style>` 태그로 주입되고, 클라이언트 사이드 렌더링 중에는 자바스크립트를 통해 로드됩니다.

**구식 옵션 (Deprecated)**

Svelte 4에는 다음 옵션들도 있었지만, Svelte 5에서는 deprecated 되었고 룬 모드에서는 작동하지 않습니다:

*   `immutable={true}`: 당신은 절대 변경 가능한 데이터를 사용하지 않으므로, 컴파일러는 값이 변경되었는지 확인하기 위해 간단한 참조 동등성 검사만 수행할 수 있습니다.
*   `immutable={false}`: 기본값입니다. Svelte는 변경 가능한 객체가 변경되었는지 여부에 대해 좀 더 보수적으로 판단합니다.
*   `accessors={true}`: 컴포넌트의 props에 대한 getter와 setter를 추가합니다.
*   `accessors={false}`: 기본값입니다.

```svelte
<svelte:options customElement="my-custom-element" />
```

---

**얘 뭐 하는 애냐?**

`<svelte:options>`는 Svelte 컴포넌트가 컴파일될 때 "야, 컴파일러! 이 파일은 이렇게 좀 처리해줘!" 하고 특별 지시를 내리는 태그입니다. 컴포넌트의 작동 방식이나 결과물에 영향을 주는 설정을 파일 단위로 지정할 수 있게 해주죠. "이 컴포넌트만의 특별 규칙" 정도로 생각하면 됩니다.

**왜 쓰는데?**

1.  **모드 전환 (룬 vs 레거시):** Svelte 5부터 도입된 룬(Runes) 모드를 쓸지, 아니면 이전 방식(레거시)으로 작동할지 컴포넌트별로 정할 수 있습니다. "이 컴포넌트는 최신 기술로, 저 컴포넌트는 익숙한 옛날 방식으로!"
2.  **네임스페이스 지정:** HTML 말고 SVG나 MathML 같은 특수한 XML 기반 환경에서 컴포넌트를 쓸 때, "얘는 SVG용이니까 SVG 문법에 맞게 처리해!" 하고 알려줍니다.
3.  **커스텀 엘리먼트 제작:** Svelte 컴포넌트를 웹 표준 커스텀 엘리먼트(예: `<my-custom-button>`)로 만들 때 필요한 설정을 합니다. 태그 이름이나 그림자 DOM(Shadow DOM) 사용 여부 등을 정할 수 있죠. "Svelte 컴포넌트를 순수 웹 기술로 포장해서 어디든 갖다 쓰자!"
4.  **CSS 주입 방식 변경:** 보통 Svelte는 CSS를 별도 파일로 뽑아내거나 `<style>` 태그를 `<head>`에 넣는데, `css="injected"` 옵션을 쓰면 컴포넌트가 직접 자기 스타일을 주입하게 만들 수 있습니다. 특정 상황에서 스타일 로딩 방식을 제어하고 싶을 때 씁니다.

**언제 불려 나오냐?**

`<svelte:options>`는 컴포넌트가 실제로 브라우저에서 실행될 때 뭔가 하는 게 아니라, Svelte 컴파일러가 `.svelte` 파일을 자바스크립트 코드로 변환하는 **컴파일 시점**에 읽혀서 작동합니다. "빌드할 때 딱 한 번 참고하는 설정값"인 셈이죠.

**쓸 때 꿀팁 및 주의사항:**

*   **위치는 `<script>`나 `<style>` 태그랑 동급:** 컴포넌트 파일의 최상단, 다른 HTML 구조 바깥에 둡니다. 보통 `<script>` 태그 위나 아래에 놓습니다.
*   **Svelte 5의 룬 모드:** `runes={true}`나 `runes={false}`는 Svelte 5의 핵심 변경 사항인 룬 시스템과 관련된 옵션입니다. 기존 Svelte 3/4 문법에 익숙하다면 룬에 대해 먼저 학습하는 게 좋습니다. "새 시대엔 새 규칙!"
*   **`immutable`과 `accessors`는 이제 안녕:** Svelte 4까지 쓰이던 `immutable`이나 `accessors` 옵션은 Svelte 5에서는 deprecated 되었고, 특히 룬 모드에서는 아예 먹통입니다. 예전 코드 유지보수할 때나 보게 될 녀석들이죠. "라떼는 말이야... 이런 옵션도 있었어..."
*   **커스텀 엘리먼트 만들 때:** `customElement` 옵션은 Svelte 컴포넌트를 다른 프레임워크나 순수 HTML 환경에서도 재사용 가능한 웹 컴포넌트로 만들 때 아주 유용합니다. 다만, 커스텀 엘리먼트 자체의 특징(스타일 격리, 속성 처리 등)에 대한 이해가 필요합니다.
*   **옵션값은 따옴표로 잘 감싸기:** `namespace="svg"`처럼 옵션값은 따옴표로 감싸주는 게 기본입니다. `customElement`처럼 객체를 전달할 수도 있고요.