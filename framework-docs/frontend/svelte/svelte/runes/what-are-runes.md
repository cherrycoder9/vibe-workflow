룬(Rune)

신비롭거나 마법적인 상징으로 사용되는 글자 또는 표식.

룬은 `.svelte` 파일이나 `.svelte.js` / `.svelte.ts` 파일에서 Svelte 컴파일러를 조종하기 위해 사용하는 기호들입니다. Svelte를 하나의 언어라고 생각한다면, 룬은 그 문법의 일부, 다시 말해 **키워드** 같은 존재죠.

룬은 `$` 접두사를 달고 있으며 함수처럼 생겼습니다:

```javascript
let message = $state('hello');
```

하지만 일반적인 자바스크립트 함수와는 중요한 차이점들이 있습니다:

*   따로 불러올(import) 필요가 없습니다 — 언어 자체에 포함되어 있으니까요.
*   얘네들은 '값(value)'이 아닙니다 — 변수에 할당하거나 다른 함수에 인자로 넘길 수 없어요.
*   자바스크립트 키워드처럼, 정해진 위치에서만 유효합니다 (엉뚱한 곳에 쓰면 컴파일러가 친절하게 알려줄 겁니다).

룬은 Svelte 5 이전에는 없던 개념입니다.

---

**얘 뭐 하는 애냐? (기능 및 목적)**
룬은 Svelte 5부터 등장한, 컴파일러에게 "야, 이거 이렇게 처리해!" 하고 명령을 내리는 특별한 표식입니다. 마치 게임에서 스킬 쓰듯이, `$state`, `$derived`, `$effect` 같은 룬을 사용해서 Svelte 코드의 반응성(데이터가 바뀌면 화면도 따라서 바뀌는 마법)을 직접적이고 명확하게 제어합니다. 기존 Svelte가 "알아서 잘 해줄게~" 스타일이었다면, 룬은 "내가 직접 지시한다!" 스타일로 바뀐 거죠. 컴파일러가 코드를 더 쉽게 이해하고 최적화하도록 돕는 역할도 합니다. "마법 주문서에 적힌 지시사항"이라고 생각하면 편해요.

**왜 쓰는데?**
1.  **명시적인 반응성**: 예전엔 `let count = 0; count += 1;`처럼 그냥 변수 값만 바꾸면 알아서 화면이 업데이트됐는데, 이게 편하긴 해도 코드가 복잡해지면 "얘가 왜 바뀌지?" 하고 헷갈릴 때가 있었죠. 룬은 `$state`처럼 상태임을 명확히 표시하니 코드 흐름 파악이 쉬워집니다. "이제 마법이 아니라 과학이다!"
2.  **성능 최적화**: 컴파일러가 "아, 이건 상태고, 저건 상태에 따라 바뀌는 값이군!" 하고 명확히 알 수 있으니 더 똑똑하게 최적화할 수 있습니다. "쓸데없는 움직임은 줄이고, 필요한 것만 딱!"
3.  **가독성 UP**: `$state`는 상태, `$derived`는 파생된 값, `$effect`는 상태 변경에 따른 부수 효과... 이름만 봐도 역할이 딱 보입니다. "코드가 말을 하네!"
4.  **Svelte의 독특함은 유지, 예측 가능성은 UP**: Svelte 특유의 간결함과 강력함은 가져가면서도, 코드 동작을 예측하기 더 쉽게 만들려는 시도입니다.

**언제 불려 나오냐?**
Svelte 5 버전 이상을 사용할 때, 컴포넌트 안에서 반응성이 필요한 데이터를 정의하거나( `$state`), 그 데이터로부터 새로운 값을 계산하거나( `$derived`), 데이터 변경에 따라 특정 작업을 수행해야 할 때( `$effect`) 호출합니다.

**쓸 때 꿀팁 및 주의사항:**
*   **Svelte 5 전용 딱지**: Svelte 4 이하 버전에서는 "그런 거 없는데요?" 합니다. "최신 마법은 최신 버전에서만!"
*   **함수처럼 생겼지만 함수 아님**: `const myState = $state;` 이런 거 안 됩니다. 변수에 담거나 인자로 못 넘겨요. 그냥 키워드처럼 정해진 자리에 써야 합니다. "겉모습에 속지 마, 얜 그냥 문법이야."
*   **컴파일러 잔소리 주의**: 아무 데나 `$state` 같은 거 쓰면 컴파일러가 "야, 너 거기 아니야!" 하고 바로 알려줍니다. 보통 컴포넌트 최상단이나 다른 룬 안에서 씁니다.
*   **기존 방식과 작별 (혹은 공존)**: Svelte 5부터는 룬을 쓰는 게 기본입니다. 예전 방식의 암시적 반응성은 이제 안녕이거나, 특정 상황에서만 제한적으로 쓰일 수 있습니다. "옛날 마법은 잊고 새 주문을 외워라!"
*   **`$`는 마법의 상징**: Svelte에서 `$`가 붙은 것들은 뭔가 특별한 역할을 하는 경우가 많았죠 (스토어 구독 등). 룬도 마찬가지로 컴파일러와 소통하는 특별한 신호입니다.