**커스텀 프로퍼티 (Custom Properties)**

정적 또는 동적인 CSS 커스텀 프로퍼티를 컴포넌트에 넘겨줄 수 있습니다. "스타일 변수, 이제 컴포넌트에 주입한다!"

```svelte
<Slider
	bind:value
	min={0}
	max={100}
	--track-color="black"
	--thumb-color="rgb({r} {g} {b})"
/>
```

위 코드는 본질적으로 아래처럼 변환됩니다. (Svelte가 뒤에서 이렇게 바꿔준다는 뜻)

```html
<svelte-css-wrapper style="display: contents; --track-color: black; --thumb-color: rgb({r} {g} {b})">
	<Slider
		bind:value
		min={0}
		max={100}
	/>
</svelte-css-wrapper>
```

SVG 요소의 경우에는 `<g>` 태그를 대신 사용합니다.

```html
<g style="--track-color: black; --thumb-color: rgb({r} {g} {b})">
	<Slider
		bind:value
		min={0}
		max={100}
	/>
</g>
```

컴포넌트 내부에서는 `var(...)` 함수를 사용해서 이 커스텀 프로퍼티 값을 읽어올 수 있고, (혹시 값이 없을 경우를 대비한) 기본값도 지정할 수 있습니다.

```css
<style>
	.track {
		background: var(--track-color, #aaa); /* --track-color 없으면 #aaa 써라 */
	}

	.thumb {
		background: var(--thumb-color, blue); /* --thumb-color 없으면 blue 써라 */
	}
</style>
```

값을 꼭 컴포넌트에 직접 명시할 필요는 없습니다. 부모 요소에 커스텀 프로퍼티가 정의되어 있다면, 자식 컴포넌트는 그걸 가져다 쓸 수 있습니다. 보통 전역 스타일시트의 `:root` 요소에 커스텀 프로퍼티를 정의해서 앱 전체에 적용하곤 합니다. "글로벌 변수처럼 쓰는 거지."

추가되는 래퍼 요소(`<svelte-css-wrapper>`나 `<g>`)가 레이아웃에 영향을 주지는 않지만, 예를 들어 자식 결합자(`>`)를 사용해서 컴포넌트 컨테이너 바로 안쪽 요소를 선택하려는 CSS 셀렉터에는 영향을 줄 수 있습니다. "어? 중간에 누가 끼어있네?" 하고 당황할 수 있다는 거죠.

---

**얘 뭐 하는 애냐? (기능 및 목적)**
Svelte에서 CSS 커스텀 프로퍼티(CSS 변수라고도 부름)를 컴포넌트에 props처럼 넘겨서 스타일을 동적으로 제어하는 기능입니다. 부모 컴포넌트나 앱 전역에서 정의한 스타일 값을 자식 컴포넌트가 받아서 쓸 수 있게 해주는 거죠. "스타일도 유전된다!"

**왜 쓰는데?**
1.  **컴포넌트 스타일 유연성 UP**: 같은 컴포넌트인데 `--theme-color` 같은 커스텀 프로퍼티 값만 바꿔서 전혀 다른 느낌으로 재사용 가능. "카멜레온 같은 컴포넌트 만들기."
2.  **동적 스타일링 간편화**: 자바스크립트 변수 값에 따라 CSS 커스텀 프로퍼티 값을 실시간으로 변경해서 스타일을 휙휙 바꿀 수 있습니다. 예를 들어, 사용자 입력에 따라 색상을 바꾼다거나 할 때 유용하죠. "JS야, CSS 좀 움직여봐!"
3.  **테마 구현 개꿀**: 앱 전체의 색상, 폰트 등을 커스텀 프로퍼티로 `:root`에 정의해두면, 다크 모드/라이트 모드 전환 같은 테마 변경이 아주 쉬워집니다. "옷 갈아입듯 테마 변경!"
4.  **Props 오염 방지**: 스타일만을 위한 props를 덕지덕지 추가하는 대신, CSS 표준인 커스텀 프로퍼티를 사용해서 코드를 깔끔하게 유지할 수 있습니다.

**언제 불려 나오냐?**
*   컴포넌트 외부에서 내부 스타일을 좀 건드리고 싶을 때.
*   자바스크립트의 상태(state)에 따라 컴포넌트의 특정 부분 스타일을 동적으로 바꾸고 싶을 때.
*   앱 전체에 일관된 디자인 시스템(색상, 간격 등)을 적용하고 싶을 때.

**쓸 때 꿀팁 및 주의사항:**
*   **네이밍은 `--두개로-시작`**: CSS 커스텀 프로퍼티 표준입니다. 안 지키면 Svelte가 못 알아먹어요.
*   **기본값(Fallback)은 생명줄**: `var(--my-color, #000000)`처럼 기본값을 꼭 지정해주세요. 안 그러면 해당 프로퍼티가 전달되지 않았을 때 스타일이 깨지거나 의도치 않게 상속받을 수 있습니다. "보험 안 들면 큰일 나."
*   **보이지 않는 래퍼의 존재**: Svelte가 커스텀 프로퍼티를 전달하기 위해 `<svelte-css-wrapper>` (HTML 요소용) 또는 `<g>` (SVG 요소용) 태그를 몰래 삽입합니다. 레이아웃은 그대로지만, CSS에서 자식 선택자(`>`) 쓸 때 이 래퍼 때문에 한 단계 더 들어가야 할 수 있으니 주의! "분명 바로 밑이었는데... 왜 안 먹지?" 싶으면 이놈 때문일 확률 높음.
*   **동적 값 전달 시 문자열 보간**: `rgb({r} {g} {b})`처럼 자바스크립트 변수를 CSS 값 안에 넣을 땐 문자열 템플릿을 활용하세요.
*   **디버깅은 개발자 도구에서**: 브라우저 개발자 도구(F12)의 Elements 탭에서 해당 컴포넌트를 선택하고 Styles 탭을 보면 전달된 커스텀 프로퍼티와 그 값을 확인할 수 있습니다. "안되면 일단 F12부터 눌러봐."