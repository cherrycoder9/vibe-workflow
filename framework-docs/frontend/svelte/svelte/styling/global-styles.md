Svelte에서 스타일은 기본적으로 해당 컴포넌트 안에만 갇혀있습니다. 하지만 가끔 이 감옥을 탈출해서 전역적으로 스타일을 먹여야 할 때가 있죠. 그럴 때 쓰는 게 바로 `:global`입니다.

**특정 선택자에만 전역 스타일 먹이기: `:global(...)`**

요놈은 특정 선택자 하나만 콕 집어서 "너만 전역!" 하고 풀어주는 역할을 합니다.

```svelte
<style>
	/* body 태그 전체에 적용 */
	:global(body) {
		margin: 0;
	}

	/* 이 컴포넌트 안의 div 태그, 그 안에 있는 모든 strong 태그에 적용 (다른 컴포넌트에 있어도 OK) */
	div :global(strong) {
		color: goldenrod;
	}

	/* 이 컴포넌트 안의 p 태그 중 class="big red"를 가진 모든 놈에게 적용.
	   자바스크립트로 클래스가 덕지덕지 붙었어도 문제없음! */
	p:global(.big.red) {
		/* ... */
	}
</style>
```

**전역 `@keyframes` 만들기**

애니메이션 효과(`@keyframes`)를 여기저기서 다 쓰고 싶다면, 이름 앞에 `-global-`을 붙여주세요. 컴파일될 때 `-global-` 부분은 쏙 빠지고 원래 이름만 남아서 다른 코드에서 편하게 불러 쓸 수 있습니다.

```svelte
<style>
	@keyframes -global-my-animation-name {
		/* 애니메이션 코드 */
	}
</style>
```

**여러 선택자 한 방에 전역으로: `:global {...}`**

스타일 여러 개를 한꺼번에 "전역으로 꺼져!" 하고 싶을 땐 `:global {...}` 블록으로 감싸면 됩니다.

```svelte
<style>
	:global {
		/* 앱 전체의 모든 div 태그에 적용 */
		div { /* ... */ }

		/* 앱 전체의 모든 p 태그에 적용 */
		p { /* ... */ }
	}

	.a :global {
		/* 이 컴포넌트 안의 .a 클래스, 그 안에 있는 모든 .b .c .d 클래스 조합에 적용 (다른 컴포넌트에 있어도 OK) */
		.b .c .d { /* ... */ }
	}
</style>
```

마지막 예시에서 `.a :global { .b .c .d {...} }`는 사실 `.a :global .b .c .d`처럼 한 줄로 쓸 수도 있습니다. `:global` 뒤에 오는 건 다 전역으로 취급되죠. 하지만 중첩해서 쓰는 게 보기 좋다고들 합니다.

---

**얘 뭐 하는 애냐? (기능 및 목적)**
Svelte는 기본적으로 스타일을 컴포넌트별로 분리해서 "내 살림은 내가 알아서 한다!" 주의입니다. 이게 CSS 충돌 막아줘서 개꿀이죠. 근데 가끔 `body` 태그처럼 문서 전체에 스타일을 주거나, 외부 라이브러리가 뱉어내는 클래스에 스타일을 먹여야 할 때가 있습니다. 이럴 때 `:global`은 "잠깐! 이 스타일은 컴포넌트 담장을 넘어가야 해!" 하고 외치는 확성기 역할을 합니다. 즉, Svelte의 스타일 스코핑(유효 범위 제한) 규칙을 깨고 특정 스타일을 전역으로 만들어버리는 녀석입니다.

**왜 쓰는데?**
1.  **스코프 탈출**: 컴포넌트 스타일 감옥에서 특정 CSS 규칙을 해방시켜 전역으로 적용하고 싶을 때. "이 구역의 스타일은 내가 정한다!" (전역적으로)
2.  **문서 전체 스타일링**: `<html>`, `<body>` 태그 스타일, CSS 리셋/노멀라이즈, 기본 폰트 설정 등 앱 전체의 밑그림 그릴 때.
3.  **외부 라이브러리/동적 클래스 호환**: 외부 CSS 프레임워크(부트스트랩 같은 거)나 자바스크립트로 동적으로 생성/변경되는 클래스 이름에 스타일을 적용해야 할 때. Svelte가 모르는 클래스에도 스타일을 꽂아 넣을 수 있죠.
4.  **전역 애니메이션**: 여러 컴포넌트에서 재사용할 `@keyframes` 애니메이션을 정의할 때. `-global-` 접두사로 "이건 공용 애니메이션이다!" 하고 선언합니다.

**언제 불려 나오냐?**
`<style>` 태그 안에서 특정 CSS 선택자 앞이나, 여러 선택자를 감싸는 블록 형태로 등장합니다. `@keyframes`의 경우엔 이름 앞에 `-global-`을 붙여서 소환합니다.

**쓸 때 꿀팁 및 주의사항:**
*   **남용은 금물, 독이 될 수 있음**: `:global`은 꼭 필요할 때만 최소한으로 쓰세요. 너무 막 쓰면 Svelte의 강력한 스타일 스코핑 장점이 희석되고, "어디서 온 스타일이지?" 하며 디버깅 지옥을 맛볼 수 있습니다. "전역 변수 남발하면 코드 꼬이는 거랑 똑같다, 이 말입니다!"
*   **구체적인 타겟팅**: `:global(body)`나 `:global(.external-lib-class .target-element)`처럼 최대한 구체적으로 범위를 좁혀서 사용하세요. 무지성 `:global(div)` 같은 건 나중에 스타일 충돌 파티를 열 수 있습니다.
*   **`:global(...)` vs `:global {...}`**:
    *   `:global(선택자)`: 단일 선택자나, 선택자 체인의 특정 부분만 전역으로 만들 때 유용. 예: `nav :global(a.active)` (nav 안의 활성화된 a 태그만 전역).
    *   `:global { 규칙들 }`: 여러 CSS 규칙 뭉탱이를 한 번에 전역으로 풀 때 사용.
*   **`-global-` 키프레임의 편리함**: 애니메이션 이름이 다른 컴포넌트의 것과 겹치는 걸 막아주고, "아, 이건 전역 애니메이션이구나" 하고 명시적으로 알 수 있게 해줍니다. 컴파일 후에는 `-global-`이 사라져서 실제 CSS에서는 원래 이름만 남으니 깔끔!
*   **디버깅 시 개발자 도구는 친구**: 스타일이 생각대로 안 먹거나 이상하게 적용될 때, 브라우저 개발자 도구에서 실제 적용된 CSS 클래스명(Svelte가 붙인 해시값 등)과 `:global`로 적용된 스타일을 꼼꼼히 확인하세요. "범인은 이 안에 있다!" (대부분 `:global`이거나 오타)