`vitest`는 Vite 기반의 테스트 프레임워크입니다. SvelteKit 프로젝트에 테스트 환경을 구축할 때 사용되죠.

**사용법**

```bash
npx sv add vitest
```

**이걸 쓰면 뭐가 생기냐?**

*   관련 패키지들이 설치되고, `package.json`에 스크립트가 추가됩니다.
*   Vite 설정 파일에 Svelte를 위한 클라이언트/서버 환경을 인지하는 테스트 설정이 들어갑니다.
*   데모 테스트 파일들이 생깁니다.

---

**얘 뭐 하는 애냐? (기능 및 목적)**
`sv add vitest` 명령어는 기존 SvelteKit 프로젝트에 Vitest 테스트 환경을 간편하게 추가해주는 "테스트 환경 설치 마법사" 같은 녀석입니다. "내 코드가 잘 돌아가는지 확인 좀 해봐야겠는데?" 싶을 때, 복잡한 설정 없이 이 명령어 한 줄이면 테스트 준비 끝! Vite랑 찰떡궁합이라 개발 서버 돌리면서 테스트도 휙휙 돌릴 수 있는 게 장점입니다. 한마디로 "SvelteKit 프로젝트에 테스트 날개를 달아주자!" 입니다.

**왜 쓰는데?**
1.  **간편한 설정**: Vitest 설치하고, Vite 설정 파일 만지고, `package.json` 스크립트 추가하고... 이런 귀찮은 과정을 명령어 하나로 해결. "복잡한 건 얘가 다 알아서 해줌."
2.  **Vite 통합의 힘**: Vite 개발 서버의 빠른 속도와 편리함을 테스트에서도 그대로 누릴 수 있습니다. 코드 바꾸면 바로바로 테스트 결과 반영! "개발과 테스트, 속도는 생명."
3.  **Svelte 맞춤 설정**: Svelte 컴포넌트 테스트를 위한 설정, 클라이언트 사이드 코드와 서버 사이드 코드를 구분해서 테스트할 수 있는 환경까지 알아서 챙겨줍니다. "Svelte, 너를 위해 준비했어."
4.  **데모 테스트 제공**: "테스트 코드 어떻게 짜야 하지?" 막막한 초심자를 위해 참고할 만한 예제 테스트 코드를 넣어줍니다. "보고 따라 하면 반은 간다."

**언제 불려 나오냐?**
이미 만들어진 SvelteKit 프로젝트에 단위 테스트(Unit Test), 통합 테스트(Integration Test) 등을 추가하고 싶을 때, 프로젝트 루트 디렉토리에서 `npx sv add vitest` 명령어를 실행합니다.

**쓸 때 꿀팁 및 주의사항:**
*   **기존 프로젝트에 추가**: `sv create`랑 다르게 이건 이미 있는 프로젝트에 기능을 "더하는" 겁니다. "새 집 말고 리모델링."
*   **`package.json` 변화 주시**: 명령어 실행 후 `package.json`의 `scripts` 부분에 `test`, `test:unit` 같은 명령어가 추가됐는지, `devDependencies`에 `vitest`, `@vitest/ui` (선택 사항) 등이 들어왔는지 확인하세요. "계약서 서명 전에 내용 확인은 필수."
*   **Vite 설정 파일(`vite.config.js` 또는 `vite.config.ts`) 확인**: Vitest 관련 설정이 `plugins` 배열이나 `test` 객체 형태로 추가됩니다. 어떤 설정이 들어갔는지 한번 쓱 훑어보면 좋습니다.
*   **데모 테스트는 시작점일 뿐**: `src/lib` 이나 `tests` 폴더 등에 생성된 `.test.js` 또는 `.test.ts` 파일들은 좋은 참고 자료지만, 결국 내 프로젝트에 맞는 테스트는 내가 직접 짜야 합니다. "가이드라인만 믿고 안주하면 안 됨."
*   **UI 모드 활용**: `vitest --ui` 명령어로 테스트 결과를 웹 브라우저에서 시각적으로 확인할 수 있는 UI 모드를 실행할 수 있습니다. (만약 `@vitest/ui` 패키지가 설치되었다면) "눈으로 봐야 직성이 풀리는 당신에게."
*   **Watch 모드**: `vitest` 또는 `npm run test -- --watch` (스크립트 설정에 따라 다름) 등으로 실행하면 파일 변경 시 자동으로 테스트를 다시 돌려줘서 개발 효율이 쭉 올라갑니다. "저장하면 바로 결과가 뙇!"