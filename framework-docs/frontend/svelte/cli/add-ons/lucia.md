`lucia`는 Lucia 인증 가이드에 따라 인증 설정을 추가하는 명령어입니다.

**사용법**

```bash
npx sv add lucia
```

**얻게 되는 것**

*   Lucia 인증 가이드의 모범 사례를 따른 SvelteKit 및 Drizzle용 인증 설정
*   선택적인 데모 회원가입 및 로그인 페이지

**옵션**

*   `demo`
    데모 회원가입 및 로그인 페이지를 포함할지 여부를 결정합니다.

    ```bash
    npx sv add lucia=demo:yes
    ```

---

**얘 뭐 하는 애냐? (기능 및 목적)**
`sv add lucia`는 SvelteKit 프로젝트에 Lucia 인증(로그인, 회원가입 같은 거) 기능을 붙여주는 "보안 요원 배치" 명령어입니다. "우리 앱에 회원 기능 넣어야 하는데, 뭐부터 해야 하지?" 싶을 때 이 녀석을 부르면 됩니다. Lucia는 요즘 잘 나가는 인증 라이브러리고, Drizzle ORM (데이터베이스 쉽게 다루게 해주는 도구)이랑 찰떡궁합으로 설정해줍니다. 한마디로 "복잡한 인증 설정, 이걸로 한 방에 해결!"

**왜 쓰는데?**
1.  **인증 설정 자동화**: 사용자 DB 스키마, 로그인/로그아웃 로직, 세션 관리 등 머리 아픈 인증 관련 코드를 알아서 착착 생성해줍니다. "인증은 전문가에게 맡기세요."
2.  **Lucia 공식 가이드 준수**: 검증된 Lucia 인증 가이드라인을 따라서 보안적으로 안전하고 효율적인 방식으로 구현해줍니다. "야매로 만들다 털리지 말고, 정석대로 가자."
3.  **데모 페이지 옵션**: `demo:yes` 옵션을 주면 바로 써먹을 수 있는 회원가입이랑 로그인 페이지까지 만들어줍니다. "일단 돌아가는 거 보고 시작하자." 디자인은 구릴 수 있지만 기능은 확실합니다.
4.  **SvelteKit + Drizzle 최적화**: SvelteKit의 구조와 Drizzle ORM 사용에 맞춰서 코드를 생성해주기 때문에 궁합이 좋습니다.

**언제 불려 나오냐?**
이미 `sv create`로 SvelteKit 프로젝트를 만들어 놓은 상태에서, "이제 회원 기능을 넣어볼까?" 할 때 프로젝트 루트 디렉토리에서 `npx sv add lucia`를 실행합니다.

**쓸 때 꿀팁 및 주의사항:**
*   **Drizzle ORM 필수 (또는 호환 ORM)**: 이 명령어는 기본적으로 Drizzle ORM을 사용하도록 설정됩니다. 만약 다른 ORM을 쓰고 싶다면 수동으로 많은 부분을 고쳐야 할 수 있습니다. "Drizzle 안 쓸 거면 이 명령어는 잊어라."
*   **데이터베이스 설정은 별도**: 이 명령어가 데이터베이스 자체를 만들어주진 않습니다. PostgreSQL, MySQL, SQLite 등 사용할 데이터베이스는 미리 준비하고 연결 설정을 해줘야 합니다. `.env` 파일에 DB 접속 정보 넣는 거 잊지 마세요.
*   **데모 페이지는 참고용**: `demo:yes`로 생성된 페이지는 말 그대로 '데모'입니다. 실제 서비스에 그대로 쓰기엔 디자인이나 기능이 부족할 수 있으니, 이걸 기반으로 입맛에 맞게 커스터마이징해야 합니다. "견본품은 견본품일 뿐, 그대로 쓰면 없어 보인다."
*   **Lucia 문서 정독은 기본**: 이 명령어가 많은 걸 자동화해주지만, Lucia 라이브러리 자체의 동작 방식이나 주요 개념(세션, 키, 어댑터 등)에 대한 이해는 필수입니다. 문제 생겼을 때나 고급 기능 쓰려면 결국 공식 문서를 파봐야 합니다. "자동화 도구는 거들 뿐, 기본기는 네가 갖춰야 한다."
*   **보안은 아무리 강조해도 지나치지 않다**: 인증 관련 코드는 민감한 정보를 다루므로, 생성된 코드를 한번 쭉 훑어보고 Lucia의 보안 권장 사항들을 잘 따르고 있는지 확인하는 것이 좋습니다. 특히 비밀번호 해싱, 세션 관리, CSRF 방어 등을 신경 써야 합니다. "내 정보는 소중하니까."