**Performance (성능)**

SvelteKit은 기본적으로 네 앱이 최대한 쌩쌩하게 돌아가도록 여러 가지 작업을 알아서 해준다. "개발자는 코드만 짜세요, 나머진 제가 알아서 최적화해드림" 이런 느낌이지.

*   **코드 분할 (Code-splitting):** 현재 페이지에 필요한 코드만 딱 불러와. 안 쓰는 코드까지 불러와서 버벅거리는 일 없게. "뷔페 가서 먹을 만큼만 담아라, 이거지."
*   **에셋 미리 불러오기 (Asset preloading):** 파일 하나가 다른 파일 불러오고, 걔가 또 다른 애 불러오고... 이렇게 줄줄이 비엔나처럼 요청이 이어지는 "워터폴 현상"을 막아줘. "필요한 건 미리 대기시켜 놓는다!"
*   **파일 해싱 (File hashing):** 파일 내용 바뀌면 이름도 바뀌게 해서, 한 번 받은 에셋은 브라우저가 영원히 캐시하도록 만들어. "이 파일은 안 바뀌었으니 또 받을 필요 없어, 전에 쓰던 거 그대로 써!"
*   **요청 병합 (Request coalescing):** 서버 `load` 함수 여러 개에서 데이터 가져올 때, 이걸 하나로 묶어서 HTTP 요청 한 방으로 처리해. "택배 여러 개 시켜도 한 차에 실어오는 거랑 비슷."
*   **병렬 로딩 (Parallel loading):** 여러 개의 공용(universal) `load` 함수가 동시에 데이터를 가져오도록 해. "일꾼 여러 명 투입해서 일 빨리 끝내는 거."
*   **데이터 인라인 (Data inlining):** 서버에서 렌더링할 때 `fetch`로 가져온 데이터를 브라우저에서 또 요청 안 하고 재활용할 수 있게 해줘. "서버에서 이미 본 거, 브라우저에서 또 볼 필요 없잖아?"
*   **보수적인 무효화 (Conservative invalidation):** `load` 함수는 꼭 필요할 때만 다시 실행되도록 해. "괜히 일 두 번 하지 말자."
*   **사전 렌더링 (Prerendering):** 동적인 데이터가 없는 페이지는 미리 만들어둬서 사용자가 요청하면 즉시 뿅 하고 보여줄 수 있어. 라우트별로 설정 가능. "만들어놓고 바로바로 서빙!"
*   **링크 미리 불러오기 (Link preloading):** 사용자가 다음 페이지로 넘어갈 때 필요한 데이터랑 코드를 미리 예측해서 준비해둬. "손님이 뭘 누를지 이미 알고 있다!"

그럼에도 불구하고, 아직 모든 느림의 원흉을 제거하진 못했어 (아직은!). 최고의 성능을 쥐어짜내려면 아래 팁들을 명심해야 한다.

---

**얘 뭐 하는 애냐?**
SvelteKit이 네 앱 성능을 끌어올리기 위해 기본으로 제공하는 기능들 모음이야. 웹사이트 로딩 속도, 반응 속도 같은 걸 좋게 만들어서 사용자가 "와, 이 사이트 빠르네!" 하게 만드는 게 목표지. "느린 건 참을 수 없다!"

**왜 쓰는데?**
1.  **사용자 경험 (UX) 향상:** 페이지 빨리 뜨고 부드럽게 움직이면 사용자가 좋아하지. 느리면 바로 뒤로 가기 누른다. "3초 안에 안 뜨면 나간다."
2.  **이탈률 감소:** 사이트가 빠르면 사용자가 떠나지 않고 더 오래 머무를 가능성이 높아.
3.  **전환율 증가:** 쇼핑몰 같은 경우, 성능이 좋으면 구매 전환율도 올라갈 수 있어. "결제하는데 버벅거리면 누가 사겠냐."
4.  **검색 엔진 최적화 (SEO):** 구글 같은 검색 엔진은 빠른 사이트를 좋아해. 성능 좋으면 검색 순위에도 긍정적인 영향을 줄 수 있어. "빠르면 구글신도 좋아하신다."
5.  **서버 비용 절감:** 최적화를 통해 불필요한 요청을 줄이면 서버 자원도 아낄 수 있지. "낭비는 금물."

**언제 신경 써야 하냐?**
SvelteKit이 많은 걸 자동으로 해주지만, 개발자가 직접 신경 써야 할 부분도 분명히 있어. 특히 아래 상황에서는 더더욱.

*   **이미지/동영상 같은 무거운 에셋 많을 때:** 최적화 안 하면 로딩 시간 그냥 폭망.
*   **API 요청 많거나 느린 API 쓸 때:** `load` 함수 최적화, 캐싱 전략 등이 중요해.
*   **복잡한 UI나 애니메이션 구현할 때:** 렌더링 성능 신경 써야지.
*   **사용자 인터랙션이 중요한 앱 만들 때:** 반응 속도가 생명.

**쓸 때 꿀팁 및 주의사항:**
*   **SvelteKit 믿고 기본만 해도 평타는 친다:** 하지만 "최고"를 원한다면 더 파고들어야 해.
*   **이미지 최적화는 기본 중의 기본:** 용량 줄이고, 적절한 포맷 쓰고, `<img>` 태그에 `width`, `height` 명시하고, `loading="lazy"` 활용하고. "사진 한 장에 사이트 속도 거덜난다."
*   **`load` 함수는 가볍게:** 여기서 무거운 작업하면 페이지 로딩 전체가 느려져. 필요한 데이터만 최소한으로 가져오고, 캐싱 적극 활용.
*   **코드 분할 적극 활용:** 라우트 기반 코드 분할은 기본이지만, 컴포넌트 레벨에서도 필요하면 동적 임포트(`import()`) 써서 코드 쪼개. "다이어트가 필요하다, 코드도."
*   **브라우저 개발자 도구 (특히 Performance 탭)랑 친해져라:** 어디가 병목인지 알려주는 최고의 진단 도구. "의사 선생님 말씀 잘 들어야 병 고친다."
*   **실제 환경에서 테스트는 필수:** 내 컴퓨터에서 빠르다고 실사용자 환경에서도 빠르란 법 없다. 다양한 네트워크 환경, 기기에서 테스트해봐. "우리 집 인터넷만 빠르다고 착각하지 마라."
*   **"섣부른 최적화는 만악의 근원"**: 일단 돌아가게 만들고, 그 다음에 느린 부분을 찾아서 최적화하는 게 순서. 처음부터 모든 걸 완벽하게 최적화하려다 개발 시간만 날릴 수 있어. "일단 만들고, 그 다음에 다듬자."