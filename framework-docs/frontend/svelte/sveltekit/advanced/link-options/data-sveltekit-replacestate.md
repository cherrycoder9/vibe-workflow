`data-sveltekit-replacestate`

가끔은 페이지 이동할 때 브라우저 방문 기록에 새 항목을 만들고 싶지 않을 때가 있잖아? 링크(`<a>` 태그)에 `data-sveltekit-replacestate` 속성을 달아주면...

```html
<a data-sveltekit-replacestate href="/경로">경로</a>
```

...이 링크를 클릭했을 때 `pushState`로 새 방문 기록을 만드는 대신, `replaceState`를 써서 현재 방문 기록을 바꿔치기 해버려. 한마디로 "왔던 흔적을 남기지 않겠다!" 이거지.

---

**얘 뭐 하는 애냐?**
`data-sveltekit-replacestate`는 SvelteKit에서 페이지 이동 시 브라우저의 방문 기록(history)을 다루는 방식을 살짝 비트는 녀석이야. 보통 링크 누르면 "나 여기 갔었음!" 하고 기록이 차곡차곡 쌓이잖아? 근데 얘는 "방금 그건 없던 일로 하자. 지금 이 페이지가 원래부터 여기 있었던 것처럼!" 하고 현재 기록을 새 페이지로 덮어써 버려. 뒤로 가기 눌렀을 때 바로 이전 페이지가 아니라, 그 이전 페이지로 가게 만드는 마법이지. "페이지 이동은 했지만, 티는 안 나게."

**왜 쓰는데?**
1.  **자잘한 상태 변경 숨기기:** 필터링, 정렬, 혹은 페이지 내의 탭 변경처럼 URL은 바뀌지만 굳이 방문 기록에 하나하나 남길 필요 없는 자잘한 변경에 딱이야. 사용자가 뒤로 가기 눌렀을 때 이런 사소한 변경 단계를 건너뛰고 싶을 때 쓰지. "방금 누른 필터는 못 본 걸로 해주세요."
2.  **임시 페이지/중간 단계 스킵:** 예를 들어, 어떤 작업을 완료하기 위해 여러 단계를 거치는데, 중간 단계 페이지들은 사용자가 굳이 다시 돌아갈 필요가 없을 때. 최종 목적지만 히스토리에 남기고 싶을 때 유용해. "중간 과정은 생략한다."
3.  **로그인/리다이렉션 후 정리:** 로그인하고 나서 이전 페이지로 돌아갈 때, 로그인 페이지만 히스토리에서 지워버리고 싶을 수 있잖아? 혹은 어떤 페이지를 거쳐 최종 페이지로 리다이렉션 됐을 때, 중간 페이지를 히스토리에서 없애버리는 용도. "방금 그 페이지는 환상이었네."

**언제 불려 나오냐? (언제 쓰냐?)**
`<a>` 태그에 `data-sveltekit-replacestate` 속성을 넣고 그 링크를 사용자가 클릭하면, SvelteKit 라우터가 "아, 얘는 히스토리 쌓지 말고 현재꺼 교체하라는군!" 하고 알아서 `history.replaceState()` 방식으로 페이지를 전환해줘. 개발자가 직접 `replaceState`를 호출할 필요 없이 속성 하나로 끝!

**쓸 때 꿀팁 및 주의사항:**
*   **뒤로 가기 경험을 생각해야 함:** 이걸 남발하면 사용자가 "어? 방금 그 페이지 어디 갔지?" 하면서 혼란스러워할 수 있어. 꼭 필요한 곳에만 써야 해. 사용자가 명확히 "이전 단계"로 인지할 만한 곳에는 쓰지 않는 게 좋아. "내 뒤로 가기 돌려줘!"
*   **`pushState` vs `replaceState`:** 기본은 `pushState` (히스토리 쌓음). `data-sveltekit-replacestate`는 `replaceState` (현재 히스토리 교체). 이 차이를 명확히 알고 써야 해.
*   **데이터 손실 가능성?:** 엄밀히 말하면 데이터 손실은 아니지만, 사용자가 특정 상태로 돌아가고 싶을 때 그 기록이 없으니 당황할 수 있다는 점. 예를 들어, 복잡한 필터 조합을 적용했는데 그게 히스토리에 안 남으면 다시 설정해야 하니 짜증 나겠지?
*   **SEO 영향은 거의 없음:** 이건 클라이언트 사이드 라우팅에서의 히스토리 관리 방식이라, 검색 엔진 크롤러가 페이지를 발견하고 인덱싱하는 데 직접적인 영향은 거의 없어.
*   **프로그래매틱 네비게이션:** `goto()` 함수를 써서 코드로 페이지 이동시킬 때도 `replaceState` 옵션을 줄 수 있어. `goto('/경로', { replaceState: true })` 이런 식으로. 링크뿐만 아니라 코드 레벨에서도 제어 가능!