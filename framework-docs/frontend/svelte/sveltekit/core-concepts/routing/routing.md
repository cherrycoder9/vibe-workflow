**Routing (라우팅)**

스벨트킷의 심장과도 같은 기능은 바로 **파일 시스템 기반 라우터**야. 이게 뭐냐면, 네 앱에서 사용자가 접속할 수 있는 URL 경로들, 즉 '라우트'들이 네 코드베이스 안의 디렉토리 구조로 결정된다는 뜻이지. 복잡하게 설정 파일 만질 필요 없이 폴더 만들면 그게 곧 URL이 되는 직관적인 방식이야.

*   `src/routes` 디렉토리가 기본적으로 네 앱의 루트(`/`) 경로가 돼.
*   `src/routes/about` 디렉토리를 만들면 `/about`이라는 경로가 생기는 식이지.
*   `src/routes/blog/[slug]`처럼 대괄호(`[]`)를 쓰면 '파라미터'가 있는 라우트를 만들 수 있어. 예를 들어 사용자가 `/blog/hello-world` 같은 페이지를 요청하면, `slug`라는 이름으로 `hello-world` 값을 받아와서 동적으로 데이터를 불러오거나 페이지를 보여줄 수 있지. "네가 뭘 찾든, 내가 맞춰서 보여줄게!" 같은 느낌.

만약 `src/routes` 말고 다른 디렉토리를 쓰고 싶으면 프로젝트 설정 파일에서 바꿀 수도 있어.

각 라우트 디렉토리 안에는 하나 이상의 **라우트 파일**들이 들어가는데, 이 파일들은 이름 앞에 `+` 기호가 붙어 있어서 쉽게 알아볼 수 있어.

이 파일들에 대해서는 곧 더 자세히 설명하겠지만, 스벨트킷 라우팅이 어떻게 돌아가는지 기억하기 쉽게 몇 가지 간단한 규칙만 먼저 알려줄게:

1.  **모든 파일은 서버에서 실행될 수 있다.** (기본적으로 서버 사이드 렌더링을 염두에 둔다는 뜻)
2.  **`+server` 파일을 제외한 모든 파일은 클라이언트(브라우저)에서도 실행된다.** (서버 전용 로직은 `+server` 파일에 넣으라는 소리)
3.  **`+layout` 파일과 `+error` 파일은 해당 디렉토리뿐만 아니라 그 아래 있는 하위 디렉토리에도 적용된다.** (공통 레이아웃이나 에러 처리를 상위 폴더에서 한 방에 관리할 수 있다는 뜻)

---

**얘 뭐 하는 애냐?**
스벨트킷의 라우팅은 사용자가 웹사이트 주소창에 URL을 입력하거나 링크를 클릭했을 때, "아, 이 주소는 이 파일을 보여주면 되겠군!" 하고 연결해주는 길잡이 역할이야. 마치 식당 안내 데스크에서 "김치찌개 손님, 3번 테이블로 가세요!" 하고 안내해주는 것과 비슷하지. 특별한 설정 파일 없이 그냥 폴더 구조만 잘 짜면 알아서 길을 찾아줘.

**왜 쓰는데?**
1.  **직관성 & 생산성:** 폴더 만들고 파일 넣으면 그게 바로 URL이 되니까 개발자가 이해하기 쉽고 빠르게 개발할 수 있어. "복잡한 설정은 가라, 폴더명 = URL!"
2.  **유연한 페이지 구성:** 정적 페이지(`src/routes/about/+page.svelte`), 동적 페이지(`src/routes/products/[id]/+page.svelte`), API 엔드포인트(`src/routes/api/users/+server.js`) 등을 같은 파일 시스템 구조 안에서 일관되게 관리할 수 있어.
3.  **코드 분리 및 구성 용이:** 각 라우트에 필요한 로직(데이터 로딩, 페이지 렌더링, 서버 액션 등)을 해당 라우트 폴더 안에 모아둘 수 있어서 코드가 깔끔해지고 찾기 쉬워. "이 구역의 코드는 내가 다 책임진다!"

**언제 불려 나오냐?**
사용자가 브라우저 주소창에 URL을 입력하고 엔터를 치거나, 웹 페이지 내의 링크(`<a>` 태그)를 클릭해서 다른 페이지로 이동하려고 할 때 스벨트킷 라우터가 가장 먼저 나서서 "이 URL에 해당하는 파일이 어디 있더라?" 하고 찾아내. 그리고 그 파일들을 실행해서 사용자에게 보여줄 내용을 만들지.

**쓸 때 꿀팁 및 주의사항:**
*   **`+` 파일 네이밍 규칙 숙지:** `+page.svelte` (보여지는 페이지), `+page.server.js` (페이지 데이터 로딩 - 서버 전용), `+server.js` (API 엔드포인트), `+layout.svelte` (공통 레이아웃) 등 `+`로 시작하는 파일들의 역할을 정확히 알아야 해. "플러스(+)의 의미를 모르면 스벨트킷 절반도 못 쓴다."
*   **파라미터는 `[대괄호]` 안에:** `[id]`, `[slug]`, `[...rest]` (나머지 모든 경로) 같은 파라미터 문법을 잘 활용하면 동적인 페이지를 효과적으로 만들 수 있어.
*   **레이아웃 상속 활용:** `+layout.svelte` 파일을 상위 폴더에 만들어두면 하위 폴더들이 그 레이아웃을 물려받아. 중복 코드를 줄이고 일관된 UI를 유지하는 데 아주 유용해. "부모 잘 만나면 자식들이 편하다."
*   **`src/routes`가 기본, 하지만 변경 가능:** 대부분 `src/routes`를 쓰지만, 프로젝트 구조상 필요하면 `svelte.config.js`에서 `kit.files.routes` 옵션으로 변경할 수 있다는 점도 알아둬.
*   **`+server.js`는 API 전용:** 사용자에게 HTML 페이지를 보여주는 게 아니라, JSON 데이터 같은 걸 주고받는 API 엔드포인트를 만들고 싶을 때 `+server.js` (또는 `.ts`) 파일을 사용해. "데이터만 원하면 이쪽으로 오세요."
*   **경로 충돌 조심:** 예를 들어 `src/routes/user/[id]`와 `src/routes/user/settings`가 있다면, `user/settings` 요청이 `[id]`로 `settings`를 넘겨주는 걸로 잘못 해석될 수 있어. 이런 경우엔 좀 더 구체적인 경로(예: `settings` 폴더)를 먼저 체크하도록 순서를 조정하거나 파일명을 다르게 해야 할 수도 있어. (스벨트킷은 보통 더 구체적인 경로를 우선하지만, 복잡해지면 헷갈릴 수 있으니 주의)