`hono/html`에서 `html`과 `raw`를 가져옵니다.

```typescript
import { Hono } from 'hono'
import { html, raw } from 'hono/html'
```

`html` 헬퍼는 `html`이라는 태그가 붙은 자바스크립트 템플릿 리터럴 안에 HTML을 작성할 수 있게 해줍니다. `raw()`를 사용하면 내용은 있는 그대로 렌더링됩니다. 이 문자열들은 직접 이스케이프 처리해야 합니다.

---

**얘 뭐 하는 애냐?**
`html` 헬퍼는 자바스크립트 코드 안에서, 특히 템플릿 리터럴(백틱 `` ` ``으로 감싸는 문자열)을 이용해서 HTML 코드를 좀 더 깔끔하고 안전하게 만들 수 있도록 도와주는 도구야. 마치 HTML 조각들을 레고 블록처럼 조립해서 완성된 페이지를 만드는 느낌이지.

*   `html`: 이 태그를 붙인 템플릿 리터럴 안에 변수나 다른 `html` 조각을 넣으면, `< > & "` 같은 특수 문자들을 자동으로 이스케이프(escape) 처리해줘. 그래서 사용자가 입력한 값이 HTML 태그로 잘못 해석돼서 사이트가 망가지거나 보안 문제(XSS 공격)가 생기는 걸 막아주지. "악성 코드? 어림없지! 쇠사슬로 꽁꽁!"
*   `raw`: 가끔은 진짜 HTML 태그를 문자열 그대로 출력해야 할 때가 있어. (예: 데이터베이스에 저장된 HTML 콘텐츠를 보여줄 때) 그럴 때 `raw()` 함수로 감싸주면 이스케이프 처리를 건너뛰고 날것 그대로 출력해줘. "이건 믿을 만한 내용이니까 검문 면제!"

**왜 쓰는데?**
1.  **XSS 공격 방어 (기본 중의 기본)**: 사용자 입력값을 HTML에 그대로 때려 박으면 악의적인 스크립트가 실행될 수 있어. `html` 헬퍼는 이걸 자동으로 막아주니까 훨씬 안전해. `<div>${userInput}</div>` 이렇게 쓰면 `userInput`에 `<script>alert('해킹!')</script>` 같은 게 들어와도 `&lt;script&gt;alert('해킹!')&lt;/script&gt;` 이렇게 바뀌어서 그냥 글자로 보이지, 실행은 안 돼.
2.  **가독성 향상**: 복잡한 HTML 구조를 문자열로 덕지덕지 이어 붙이는 것보다 템플릿 리터럴이랑 `html` 헬퍼 쓰면 훨씬 보기 좋고 이해하기 쉬워. 자바스크립트 변수도 중간중간 자연스럽게 끼워 넣을 수 있고. "더러운 문자열 연산은 이제 그만!"
3.  **HTML 조각 재사용**: 작은 HTML 덩어리들을 `html` 헬퍼로 만들어두고 필요할 때마다 가져다 쓰거나 조합하기 편해. 컴포넌트 비슷한 느낌으로 쓸 수 있지.

**언제 불려 나오냐?**
Hono 라우트 핸들러에서 클라이언트에게 HTML 응답을 직접 만들어서 보내줘야 할 때 주로 사용돼. 특히 JSX를 안 쓰거나, 간단한 HTML 조각들을 동적으로 생성해서 끼워 넣고 싶을 때 유용하지.

```typescript
const app = new Hono()

app.get('/', (c) => {
  const userName = '<script>alert("이름이 왜이래!")</script>' // 악성 코드 시도!
  const safeTitle = '안전한 제목'
  const rawHtmlContent = '<p>이건 <strong>진짜</strong> HTML 입니다.</p>' // 믿을 수 있는 HTML

  return c.html(
    // html 태그드 템플릿 사용
    html`
      <!DOCTYPE html>
      <html>
      <head>
        <title>${safeTitle}</title> {/* safeTitle은 이스케이프 처리됨 */}
      </head>
      <body>
        <h1>안녕하세요, ${userName} 님!</h1> {/* userName 안의 <script>는 이스케이프 처리됨 */}
        <div>
          ${raw(rawHtmlContent)} {/* rawHtmlContent는 있는 그대로 출력됨 */}
        </div>
        <ul>
          ${['항목1', '항목2', '항목3'].map(item => html`<li>${item}</li>`).join('')}
        </ul>
      </body>
      </html>
    `
  )
})
```
위 코드에서 `userName`에 들어있는 스크립트는 `html` 헬퍼 덕분에 그냥 문자열로 표시될 거야. 반면 `rawHtmlContent`는 `raw()`로 감싸서 진짜 HTML 태그로 렌더링되지. 배열 데이터를 `map`으로 돌려서 `<li>` 태그 목록 만드는 것도 깔끔하게 할 수 있어.

**쓸 때 꿀팁 및 주의사항:**
*   **`raw()`는 양날의 검**: `raw()`는 정말 필요할 때, 그리고 그 내용이 100% 안전하다고 확신할 때만 써야 해. 사용자 입력값을 `raw()`로 감싸서 출력하는 건 "우리 집 대문 활짝 열어놓고 '털어가세요~' 하는 거랑 똑같아." XSS 공격의 주요 원인이 될 수 있으니 극도로 주의해야 해.
*   **이스케이프 기본 원리 이해**: `html` 헬퍼가 많은 걸 자동으로 해주지만, 웹 보안의 기본인 이스케이프 처리가 왜 필요한지, 어떤 문자들이 위험한지 정도는 알아두는 게 좋아. 그래야 `raw()`를 언제 써도 되고 안 되는지 감이 오거든.
*   **JSX와의 관계**: Hono에서는 JSX로도 HTML을 렌더링할 수 있어. `html` 헬퍼는 JSX 문법이 좀 부담스럽거나, 더 간단하게 문자열 기반으로 HTML을 만들고 싶을 때 좋은 대안이야. 둘 다 장단점이 있으니 상황에 맞게 선택하면 돼. "망치랑 드라이버 중에 뭐가 더 좋냐고? 뭘 작업하느냐에 따라 다르지."
*   **템플릿 리터럴의 중첩과 가독성**: `html` 헬퍼 안에 또 다른 `html` 헬퍼를 중첩해서 쓸 수 있는데, 너무 깊어지면 가독성이 떨어질 수 있어. 적절히 함수로 분리하거나 변수로 빼서 관리하는 게 좋아.
*   **성능**: 아주 복잡하고 큰 HTML 문서를 전부 `html` 헬퍼와 문자열 연산으로만 만들면 JSX 기반 렌더링보다 약간의 성능 차이가 있을 수도 있어. 하지만 대부분의 경우엔 크게 신경 쓸 정도는 아니야. "최적화는 병목 지점부터!"