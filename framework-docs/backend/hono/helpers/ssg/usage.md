SSG 헬퍼는 Hono 애플리케이션으로부터 정적 사이트를 생성해주는 도구입니다. 등록된 라우트들의 콘텐츠를 가져와서 정적 파일로 저장해줍니다. "서버 없이도 돌아가는 웹사이트, 미리 구워놓는 피자 같은 거죠!"

**사용법**

**수동 방식**
다음과 같이 간단한 Hono 애플리케이션이 있다고 가정해봅시다:

```typescript
// index.tsx
import { Hono } from 'hono' // Hono는 기본이죠!

const app = new Hono()

// 루트 경로('/') 요청이 오면 'Hello, World!' HTML을 응답합니다.
app.get('/', (c) => c.html('Hello, World!'))

// '/about' 경로에 대한 미들웨어 설정
app.use('/about', async (c, next) => {
  // 렌더러를 설정합니다. content와 head를 받아서 전체 HTML 구조를 만듭니다.
  c.setRenderer((content, head) => {
    return c.html(
      <html>
        <head>
          <title>{head.title ?? ''}</title> {/* head.title이 있으면 쓰고, 없으면 빈 문자열 */}
        </head>
        <body>
          <p>{content}</p> {/* 본문 내용이 들어갈 자리 */}
        </body>
      </html>
    )
  })
  await next() // 다음 핸들러로 제어권을 넘깁니다.
})

// '/about' 경로 GET 요청 처리
app.get('/about', (c) => {
  // 위에서 설정한 렌더러를 사용해서 'Hello!'라는 내용과 'Hono SSG Page'라는 제목으로 페이지를 만듭니다.
  return c.render('Hello!', { title: 'Hono SSG Page' })
})

export default app // Hono 앱을 내보냅니다.
```

Node.js 환경이라면, 다음과 같은 빌드 스크립트를 만듭니다:

```typescript
// build.ts
import app from './index' // 위에서 만든 Hono 앱을 가져옵니다.
import { toSSG } from 'hono/ssg' // SSG 헬퍼의 핵심 함수를 가져옵니다.
import fs from 'fs/promises' // 파일 시스템 작업을 위한 Node.js 모듈 (Promise 기반)

// toSSG 함수에 Hono 앱과 파일 시스템 모듈을 넘겨주면 알아서 정적 파일을 생성해줍니다.
toSSG(app, fs)
```

이 빌드 스크립트를 실행하면, 다음과 같이 파일들이 생성됩니다:

```bash
ls ./static
about.html  index.html
```

`./static` 디렉터리 안에 `about.html`과 `index.html` 파일이 뿅 하고 나타납니다.

**Vite 플러그인**
`@hono/vite-ssg` Vite 플러그인을 사용하면 이 과정을 더 쉽게 처리할 수 있습니다. "복잡한 설정은 플러그인에게 맡기고 커피 한 잔 하세요!"

더 자세한 내용은 여기를 참고하세요:
[https://github.com/honojs/vite-plugins/tree/main/packages/ssg](https://github.com/honojs/vite-plugins/tree/main/packages/ssg)

---

**얘 뭐 하는 애냐?**
SSG(Static Site Generation, 정적 사이트 생성) 헬퍼는 Hono로 만든 동적인 웹 애플리케이션을 미리 빌드해서 순수 HTML, CSS, JS 파일 쪼가리들로 만들어주는 녀석입니다. 사용자가 접속할 때마다 서버가 페이지를 그리는 게 아니라, 이미 다 그려진 완성품을 그냥 툭 던져주는 거죠. "매번 요리하는 식당 말고, 미리 만들어둔 도시락 파는 편의점!"

**왜 쓰는데?**
1.  **성능 끝판왕**: 미리 만들어진 HTML 파일을 제공하니까 로딩 속도가 미친 듯이 빠릅니다. 데이터베이스 조회하고, 템플릿 렌더링하고... 이런 과정이 싹 다 생략되거든요. "F1 머신급 속도!"
2.  **보안 강화**: 서버 사이드 로직이 거의 없거나 아예 없으니까 해킹당할 구멍도 그만큼 줄어듭니다. 데이터베이스 털릴 걱정? 서버 터질 걱정? 훨씬 덜하죠. "철벽 보안!"
3.  **저렴한 호스팅**: 정적 파일들은 CDN(Content Delivery Network)이나 GitHub Pages, Netlify, Vercel 같은 곳에 아주 싸거나 심지어 공짜로 올릴 수 있습니다. 비싼 서버 유지비 안녕~ "가성비 최고!"
4.  **안정성**: 서버가 죽어도 일단 사이트는 보입니다 (물론 동적인 기능은 안 되겠지만). 트래픽 폭주에도 상대적으로 잘 버팁니다. "좀비처럼 살아남는 웹사이트!"

**언제 불려 나오냐?**
주로 빌드 과정에서 한 번 호출됩니다. 개발이 끝나고 "자, 이제 웹사이트 공개하자!" 할 때, `node build.ts` 같은 명령어로 빌드 스크립트를 실행시키면 `toSSG` 함수가 Hono 앱의 각 라우트를 돌아다니면서 HTML 파일을 생성합니다. Vite 플러그인을 쓰면 Vite 빌드 과정에 자동으로 통합돼서 더 편하게 쓸 수 있고요.

**쓸 때 꿀팁 및 주의사항:**
*   **모든 사이트가 SSG에 적합한 건 아님**: 내용이 자주 바뀌거나 (실시간 뉴스, 주식 정보 등), 사용자별로 다른 내용을 보여줘야 하거나 (SNS 피드, 개인화된 대시보드), 사용자 입력에 따라 즉각적인 서버 처리가 필요한 사이트 (온라인 게임, 복잡한 웹 애플리케이션)는 SSG랑 안 맞습니다. "만병통치약은 아니다." 블로그, 문서 사이트, 포트폴리오, 마케팅용 랜딩 페이지처럼 콘텐츠 변경 주기가 길고 대부분 사용자에게 동일한 내용을 보여주는 경우에 찰떡궁합입니다.
*   **빌드 시간**: 페이지가 수천, 수만 개가 되면 빌드하는 데 시간이 꽤 걸릴 수 있습니다. "피자 수만 판 미리 구우려면 시간 걸리는 건 당연지사." 변경된 페이지만 다시 빌드하는 증분 빌드(Incremental Builds) 기능이 지원되는지 확인해보는 게 좋습니다. (Hono의 `toSSG` 자체 기능보다는 Vite 플러그인이나 주변 도구에서 이런 걸 지원할 수 있습니다.)
*   **동적인 부분 처리**: SSG로 만들어진 사이트에서도 검색 기능이나 댓글 같은 동적인 요소가 필요할 수 있습니다. 이럴 땐 클라이언트 사이드 자바스크립트를 이용하거나, Algolia 같은 외부 검색 서비스, Disqus 같은 댓글 시스템, 또는 서버리스 함수(Functions)를 부분적으로 활용해서 "정적인 뼈대 + 동적인 살점" 조합으로 해결합니다.
*   **라우트 감지 방식**: `toSSG`는 Hono 앱에 등록된 `app.get()` 라우트들을 기반으로 파일을 생성합니다. 동적으로 생성되는 라우트(예: `/posts/:id`)가 있다면, 해당 ID 목록을 어떻게든 `toSSG`에 알려주거나 별도의 로직으로 처리해야 모든 페이지가 생성됩니다. Vite 플러그인은 이런 부분에 대한 옵션을 제공할 수 있습니다.
*   **`c.setRenderer`의 중요성**: 예제 코드에서 `c.setRenderer`를 사용한 것처럼, HTML 전체 레이아웃(머리글, 바닥글, `<head>` 태그 내용 등)을 일관되게 적용하려면 렌더러를 설정하는 게 깔끔합니다. 안 그러면 각 라우트마다 HTML 전체 구조를 다 써줘야 해서 중복 파티가 열립니다. "옷은 한 벌로 통일하자."
*   **파일 시스템 접근 권한**: 빌드 스크립트가 `static` 같은 폴더에 파일을 써야 하니까 해당 폴더에 대한 쓰기 권한이 있는지 확인해야 합니다. "내 집인데 내가 못 들어가면 안 되잖아?"