`app.onError`는 에러 잡아서 커스텀 응답 보내주는 놈입니다.

```javascript
app.onError((err, c) => {
  console.error(`${err}`) // 에러 내용 콘솔에 찍고
  return c.text('내가 만든 에러 메시지롱', 500) // "내가 만든 에러 메시지롱"이랑 500 코드 리턴
})
```

---

**얘 뭐 하는 애냐?**
애플리케이션 전체에서 발생하는 자잘한 에러부터 심각한 에러까지 한 군데서 깔끔하게 처리하려고 쓰는 기능입니다. 쉽게 말해, 앱 전역 에러 핸들러죠.

**왜 쓰는데?**
1.  **사용자 경험 향상:** 예상치 못한 에러 터졌을 때, 이상한 에러 코드 대신 "지금 점검 중이니 잠시 후 다시 시도해 주세요" 같은 친절한 안내를 보여줄 수 있습니다. 고객님 뒷목 잡는 일 방지용이죠.
2.  **보안 강화:** 서버 내부의 민감한 오류 정보를 사용자에게 그대로 노출하는 건 "우리 집 비밀번호는 1234예요!" 하는 거나 마찬가지입니다. 이걸로 가려주는 거죠.
3.  **디버깅 편의성:** ``console.error(`${err}`)``처럼 에러 로그를 남겨서 개발자가 "아, 여기서 터졌구나!" 하고 빠르게 문제 파악하고 고칠 수 있게 도와줍니다. 물론, 실제 서비스에서는 `console.error`만 쓰면 나중에 로그 찾다가 눈 빠지니, Sentry나 Datadog 같은 전문 로깅 툴 쓰는 게 국룰입니다.

**언제 불려 나오냐?**
라우트 핸들러나 미들웨어에서 `try...catch`로 못 잡은 에러가 발생했을 때, 혹은 명시적으로 `throw new Error()`를 했는데 아무도 안 받아줬을 때 등판합니다. 한마디로, "님들 이거 어쩔?" 하고 던져진 에러를 얘가 최종적으로 받는 거죠.

**쓸 때 꿀팁 및 주의사항:**
*   **만능은 아니다:** 모든 에러를 여기서 다 처리하려고 욕심내면 코드가 산으로 갑니다. 특정 라우트나 상황에서만 발생하는 에러는 거기서 알아서 처리하는 게 더 깔끔할 때도 많습니다.
*   **응답 형식은 자유롭게:** `c.text()` 말고 `c.json()`, `c.html()` 등 원하는 형태로 응답을 커스터마이징할 수 있습니다. 에러 상황에 맞춰서 적절한 걸 골라 쓰세요.
*   **에러별 분기 처리:** `err` 객체를 까보면 에러 종류나 메시지 등을 알 수 있습니다. `if (err instanceof SpecificErrorType)` 이런 식으로 특정 에러 타입에 따라 다른 메시지나 상태 코드를 보내는 것도 가능합니다.
*   **타입스크립트 사용자라면:** `err` 타입을 `unknown`이나 `Error`로 명시하고, 필요하면 타입 가드를 써서 안전하게 다루는 게 좋습니다. 안 그러면 `any` 파티 열다가 런타임 에러 맞고 "이게 왜 안 되지?" 시전하기 딱 좋습니다.
*   **프로덕션 환경에서는 상세 오류 노출 금지:** 개발 중에는 `err.stack` 같은 상세 정보를 보는 게 편하지만, 실제 서비스에서는 절대 사용자에게 보여주면 안 됩니다. 보안 문제 직결이에요. "해커님, 어서 오세요~" 하는 꼴입니다.